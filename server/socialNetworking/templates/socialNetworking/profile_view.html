{% extends 'landing/loggedin_base.html' %}
{% load crispy_forms_tags %}
{% load static %}
{% block content %}

<link rel="stylesheet" type="text/css" href="{% static 'socialNetworking/profile_view.css' %}">

<div class="container">

	<div class="row mt-5">
		<div class="col-md-3 col-sm-6">
			<a href="{% url 'post-list' %}" class="btn btn-light">Back to Feed</a>
		</div>
	</div>

	<div id = "profile-container">

		<div>
			{% if not author.profileImage %}
				<img src="{% static 'images/User_cicrle.png' %}">
			{% else %}
				<img src="{{ author.profileImage }}" width="84" height="84" style="border-radius: 42px;">
			{% endif %}
			<span>{{ author.displayName }}</span>
		</div>
		<span>Github: {{ author.github }}</span>

	</div>

	<div id="post-container" class="container">
			<div class="row mt-3">
				<div class="col-sm-12 border-bottom">
					<h2>Posts you created:</h2>

				</div>
			</div>
			
			{% for post in post_list %}
			{% if not post.shared_user %}
			<div class="row mt-3">
				<div class="col-sm-12 border-bottom position-relative">
				{% if author.user == request.user %}
						<a href="{% url 'post-edit' post.pk %}">Edit</a>
						<a href="{% url 'post-delete' post.pk %}">Delete</a>
				{% endif %}
					<p>{{ post.published_at }}</p>
					<p>{{ post.description }}</p>
					<!-- <a class="stretched-link" href="{% url 'post-edit' post.pk %}"></a> -->
				</div>
			</div>
			{% endif %}
			{% endfor %}

		{% if shared_posts %}
		<div class="row mt-3">
			<div class="col-sm-12 border-bottom">
				<h2>Posts you shared:</h2>
			</div>
		</div>
		{% for post in shared_posts %}
		<div class="row mt-3">
			<div class="col-sm-12 border-bottom position-relative">
				<a href="{% url 'shared-post-edit' post.pk %}">Edit</a>
				<a href="{% url 'shared-post-delete' post.pk %}">Delete</a>
				<p>{{ post.shared_on }}</p>
				<p>{{ post.shared_body }}</p>
				<!-- <a class="stretched-link" href="{% url 'post-edit' post.pk %}"></a> -->
			</div>
		</div>
		{% endfor %}
		{% endif %}
		
	</div>
</div>

{% endblock content %} 


		<!-- <div class="row justify-content-center mt-3 mb-5">
			<div class="col-md-5 col-sm-12 border-bottom">
				<form method="POST">
					{% csrf_token %}
					{{ form | crispy }}
					<div class="d-grid gap-2">
						<button class="btn btn-success mt-3">Submit!</button>
					</div>
				</form>
			</div>
		</div> -->